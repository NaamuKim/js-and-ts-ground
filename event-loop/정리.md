### 주제: Event Loop

---

### 메모

##### 해결한 문제

- JS코드로도 비동기를 이용할 수 있게 해준다.
- 동시성을 지원한다.
- 예시) 서버에 HTTP 요청을 보내도 브라우저가 멈추지 않는다.

##### 무엇인가?

자바스크립트 엔진이 아닌 동작 환경이 가지고 있다.(브라우저나 Node JS)
이벤트 큐에서 하나씩 꺼내서 동작시키는 루프를 말한다.
![[스크린샷 2022-10-15 오전 12.03.54.png]]

##### Heap: 메모리 할당

##### Call Stack: 함수 호출 시 이곳에 저장 LIFO(후입선출)

##### Web API: 비동기 작업들이 전임 되는 곳 Call Stack이 비동기 함수가 있으면 Web API를 호출한다. Web API는 비동기 함수의 콜백함수를 CallBack Queue에 집어넣는다.

##### CallBack Queue: 함수가 들어가는 것은 Call Stack과 같다. 하지만 큐 자료구조이기 때문에 FIFO(선입선출)

### 다시 이벤트 루프:

##### Call Stack이 비워질 때 Callback Queue에 존재하는 함수를 하나씩 Call Stack으로 옮긴다.

#### 이해하기 좋은 예시

-> JS에서 타이머는 결국 앞에 밀려있는 친구들이 실행되고 실행되기에 정확한 시간을 보장하지 못한다.

##### 동작과정

1. 이벤트 발생시 호출되는 콜백함수들을 태스크 큐에 전한다.
2. 태스크 큐에 담겨있는 콜백함수들을 콜스택에 넘겨준다.
3. 이벤트 루프는 콜스택이 비어있을 때만 콜백함수를 넘겨준다.
4. 콜스택에 쌓인 콜백함수가 실행되고, 콜스택에서 제거된다.

### 출처(참고문헌)

- You Don't Know JS 카일 심슨
